<!DOCTYPE html>
<html lang="en" data-theme="dark">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>AI Trip Planner â€” Plan Your Perfect Journey</title>
        <meta name="description"
            content="AI-powered travel itinerary planner. Enter your destinations and dates to get a personalized day-wise trip plan with maps, images, and commute info.">

        <!-- Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
            integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/components.css">
    </head>

    <body>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAVBAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <nav class="navbar">
            <div class="nav-logo" id="home-logo" role="button" tabindex="0" title="Go home">
                <span class="logo-icon">âœˆï¸</span>
                <span>AI Trip Planner</span>
            </div>
            <div class="nav-actions">
                <button class="btn btn-ghost btn-sm" id="mytrips-btn" title="My saved trips">ğŸ’¾ My Trips</button>
                <a class="btn btn-ghost btn-sm" id="docs-btn"
                    href="https://github.com/sdukesameer/AI-Trip-Planner/blob/main/README.md" target="_blank"
                    rel="noopener" title="Documentation">ğŸ“– Docs</a>
                <button class="btn btn-ghost btn-sm icon-btn" id="theme-btn" title="Toggle theme">ğŸŒ™</button>
            </div>
        </nav>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PROGRESS OVERLAY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="progress-overlay" class="hidden">
            <div class="progress-card">
                <div class="progress-airplane">âœˆï¸</div>
                <div class="progress-title">Planning your tripâ€¦</div>
                <div class="progress-label" id="progress-label">Initialisingâ€¦</div>
                <div class="progress-bar-track">
                    <div class="progress-bar-fill" id="progress-bar-fill" style="width:0%"></div>
                </div>
                <div class="progress-meta">
                    <span id="progress-step">Step 1 of 4</span>
                    <span id="progress-pct">0%</span>
                </div>
                <div class="stage-dots">
                    <div class="stage-dot active" data-step="0">
                        <div class="stage-dot-circle">1</div>
                        <div class="stage-dot-label">Places</div>
                    </div>
                    <div class="stage-dot pending" data-step="1">
                        <div class="stage-dot-circle">2</div>
                        <div class="stage-dot-label">Images</div>
                    </div>
                    <div class="stage-dot pending" data-step="2">
                        <div class="stage-dot-circle">3</div>
                        <div class="stage-dot-label">Itinerary</div>
                    </div>
                    <div class="stage-dot pending" data-step="3">
                        <div class="stage-dot-circle">4</div>
                        <div class="stage-dot-label">Map</div>
                    </div>
                </div>
                <div class="ai-model-badge" id="ai-model-badge"
                    style="display:none;margin-top:16px;font-size:12px;color:var(--text-muted);"></div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TOAST â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="toast-container"></div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             PLACE DETAIL MODAL
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="place-modal" class="modal-overlay hidden">
            <div class="place-detail-card">
                <button class="modal-close place-detail-close" id="place-modal-close">âœ•</button>
                <div class="place-detail-img-wrap">
                    <img id="place-detail-img" src="" alt="" loading="lazy">
                    <div class="place-detail-category-badge" id="place-detail-category"></div>
                </div>
                <div class="place-detail-body">
                    <div class="place-detail-header">
                        <div class="place-detail-name" id="place-detail-name"></div>
                        <a class="btn btn-primary btn-sm" id="place-detail-gmap" href="#" target="_blank"
                            rel="noopener">ğŸ—ºï¸
                            Google Maps</a>
                    </div>
                    <div class="place-detail-meta" id="place-detail-meta"></div>
                    <div class="place-detail-closed" id="place-detail-closed"></div>
                    <div class="place-detail-desc" id="place-detail-desc"></div>
                </div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             MY TRIPS MODAL
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="mytrips-modal" class="modal-overlay hidden">
            <div class="modal-card" style="max-width:560px;width:100%;">
                <div class="modal-header">
                    <div class="modal-title">ğŸ’¾ My Saved Trips</div>
                    <button class="modal-close" id="mytrips-close">âœ•</button>
                </div>
                <div id="mytrips-list" style="max-height:420px;overflow-y:auto;"></div>
                <div style="text-align:center;margin-top:12px;">
                    <button class="btn btn-ghost btn-sm" id="mytrips-clear">ğŸ—‘ï¸ Clear All</button>
                </div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             SCREEN 1 â€” INPUT
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="screen-input" class="screen">
            <!-- Hero -->
            <section class="hero-section">
                <div class="hero-badge">âœ¨ Powered by AI (Gemini + Groq)</div>
                <h1 class="hero-title">
                    Plan Your Perfect<br>
                    <span class="gradient-text">Dream Trip</span>
                </h1>
                <p class="hero-sub">
                    Tell us where you want to go and when â€” our AI builds a day-by-day itinerary,
                    groups nearby attractions, and shows you the best way to get around.
                </p>
            </section>

            <!-- Input Card -->
            <div class="container">
                <div class="glass-card input-card">

                    <!-- Location input with autocomplete -->
                    <div class="modal-field">
                        <label class="input-label" for="location-input">ğŸ“ Destinations</label>
                        <div class="chip-input-wrap" style="position:relative;">
                            <input class="input-field" type="text" id="location-input"
                                placeholder="Type a city, e.g. Delhiâ€¦" autocomplete="off">
                            <button class="btn btn-secondary btn-sm" id="add-location-btn" style="white-space:nowrap;">+
                                Add</button>
                            <ul id="location-suggestions" class="location-suggestions hidden"></ul>
                        </div>
                        <div class="chip-box" id="chip-box"></div>
                    </div>

                    <!-- Dates -->
                    <div class="date-row" style="margin-top:24px;">
                        <div class="modal-field" style="margin-bottom:0">
                            <label class="input-label" for="start-date">ğŸ—“ï¸ Start Date</label>
                            <input class="input-field" type="date" id="start-date">
                        </div>
                        <div class="modal-field" style="margin-bottom:0">
                            <label class="input-label" for="end-date">ğŸ—“ï¸ End Date</label>
                            <input class="input-field" type="date" id="end-date">
                        </div>
                    </div>

                    <!-- Custom Places (optional pre-seed) -->
                    <div class="home-custom-places-wrap" id="home-custom-places-wrap">
                        <button class="home-custom-toggle" id="home-custom-toggle" type="button" aria-expanded="false">
                            <span>ğŸ¯ I already know where I want to go</span>
                            <span class="custom-toggle-chevron">â–¾</span>
                        </button>
                        <div class="home-custom-body hidden" id="home-custom-body">
                            <p style="font-size:12px;color:var(--text-muted);margin-bottom:10px;">
                                Paste place names (one per line or comma-separated) â€” they'll be auto-selected in the
                                next
                                step.
                            </p>
                            <textarea id="home-custom-places" class="input-field"
                                style="min-height:90px;resize:vertical;font-size:13px;"
                                placeholder="Red Fort&#10;Qutub Minar&#10;India Gate, Humayun's Tomb"></textarea>
                        </div>
                    </div>

                    <!-- CTA -->
                    <div class="plan-btn-wrap">
                        <button class="btn btn-primary btn-lg plan-btn" id="plan-btn">
                            âœˆï¸ Plan My Trip
                        </button>
                    </div>
                </div>

                <!-- Feature pills -->
                <div class="feature-pills">
                    <div class="feature-pill">ğŸ—ºï¸ Smart Geo-Grouping</div>
                    <div class="feature-pill">ğŸ“¸ Place Images</div>
                    <div class="feature-pill">ğŸš‡ Commute Info</div>
                    <div class="feature-pill">ğŸ“ Interactive Map</div>
                    <div class="feature-pill">ğŸ“¥ Download PDF</div>
                    <div class="feature-pill">ğŸ¤– AI Auto Mode</div>
                    <div class="feature-pill">ğŸ’¾ Save Trips</div>
                    <div class="feature-pill">ğŸ”— Share Trip</div>
                </div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             SCREEN 2 â€” PLACE DISCOVERY
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="screen-discovery" class="screen">
            <div class="container">

                <!-- Header -->
                <div class="discovery-header">
                    <div>
                        <div class="discovery-title">ğŸŒ Famous Places</div>
                        <div style="font-size:13px;color:var(--text-muted);margin-top:4px;">
                            Select the places you want to visit, or let AI choose for you
                        </div>
                    </div>
                    <div class="auto-mode-wrap">
                        <div>
                            <div class="auto-label">ğŸ¤– Auto Mode</div>
                            <div class="auto-sublabel">AI picks the best</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="auto-toggle">
                            <span class="toggle-thumb"></span>
                        </label>
                    </div>
                </div>

                <!-- Search Nearby -->
                <div class="nearby-search-wrap glass-card" style="padding:20px;margin-bottom:20px;">
                    <div style="font-size:13px;font-weight:600;margin-bottom:10px;color:var(--text-secondary);">ğŸ” Add a
                        Specific Place or Area</div>
                    <div style="display:flex;gap:10px;align-items:center;">
                        <input class="input-field" type="text" id="nearby-input"
                            placeholder="e.g. India Gate, Red Fort, Connaught Placeâ€¦" style="flex:1;">
                        <button class="btn btn-secondary btn-sm" id="nearby-search-btn"
                            style="white-space:nowrap;">Search</button>
                    </div>
                    <div id="nearby-results" class="place-card-grid" style="margin-top:12px;"></div>
                </div>

                <!-- Selection count -->
                <div class="selection-bar">
                    <span id="selection-count">0 places selected</span>
                    <span style="font-size:12px;color:var(--text-muted);">Click cards to select Â· Enable Auto to let AI
                        decide</span>
                </div>

                <!-- Place cards grid (populated by JS) -->
                <div id="discovery-grid"></div>

                <!-- Bottom action bar -->
                <div class="discovery-action-bar">
                    <button class="btn btn-ghost" id="back-to-input">â† Back</button>
                    <button class="btn btn-primary" id="generate-btn">
                        ğŸ§  Generate Itinerary
                    </button>
                </div>

            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             SCREEN 3 â€” ITINERARY
             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="screen-itinerary" class="screen">
            <div class="container">

                <!-- Top row -->
                <div class="itin-top" style="padding-top:28px;">
                    <div>
                        <div class="itin-title">ğŸ—“ï¸ Your Itinerary</div>
                        <div class="itin-summary-text" id="itin-summary">Loadingâ€¦</div>
                        <div class="ai-provider-tag" id="ai-provider-tag"
                            style="display:none;margin-top:6px;font-size:12px;"></div>
                        <div class="budget-badge" id="budget-badge" style="display:none;margin-top:6px;"></div>
                    </div>
                    <div style="display:flex;gap:10px;flex-wrap:wrap;">
                        <button class="btn btn-ghost btn-sm" id="back-to-discovery">â† Edit Places</button>
                        <button class="btn btn-secondary btn-sm" id="new-trip-btn">ğŸ”„ New Trip</button>
                        <button class="btn btn-secondary btn-sm" id="save-trip-btn">ğŸ’¾ Save</button>
                        <button class="btn btn-ghost btn-sm" id="share-trip-btn">ğŸ”— Share</button>
                    </div>
                </div>

                <!-- Two-column layout -->
                <div class="itinerary-layout">

                    <!-- Left: Accordion -->
                    <div class="itinerary-panel">
                        <div id="itinerary-accordion"></div>

                        <!-- Download bar -->
                        <div class="download-bar">
                            <div>
                                <div class="download-title">ğŸ“¥ Download Itinerary</div>
                                <div class="download-sub">Save your trip plan to share or print</div>
                            </div>
                            <div class="download-btns">
                                <button class="btn btn-outline btn-sm" id="copy-btn">ğŸ“‹ Copy</button>
                                <button class="btn btn-secondary btn-sm" id="download-txt-btn">ğŸ“„ Text</button>
                                <button class="btn btn-primary btn-sm" id="download-pdf-btn">ğŸ“‘ PDF</button>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Map -->
                    <div class="map-panel">
                        <div class="map-container" id="map-container"></div>
                        <div class="day-legend" id="day-legend"></div>
                        <div style="margin-top:8px;">
                            <button class="btn btn-ghost btn-sm" id="map-reset-focus">â†º Show All Days</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

        <script type="module" src="js/app.js"></script>

    </body>

</html>
